The following query can be pasted into the risearch query interface to obtain a
list of all Thesis records. This will (correctly) include the two MNursing
theses which have been incorrectly put under Undergraduate Papers and Projects.
Note that this query uses SPARQL rather than ITQL,  in order to permit the wild
card searching necesary to differentiate postgrad theses from undergraduate
papers.  The machine the risearch interface is run on will need to have access
 to fedora/risearch permitted  on the hosts apache configuration. This
 redesigned query can be used without  updating and reconstructing when repeat
  exports are required

 PREFIX dc: <http://purl.org/dc/elements/1.1/>
 SELECT ?record
 WHERE {
  {
 ?record dc:type ?type .
 ?record dc:title ?title .
 ?record dc:type 'http://purl.org/eprint/type/Thesis'
 FILTER regex (?type, 'aster')
  }UNION{
 ?record dc:type ?type .
 ?record dc:title ?title .
 ?record dc:type 'Theses'.
 FILTER regex (?type, 'aster')
  }UNION{
 ?record dc:type ?type .
 ?record dc:title ?title .
 ?record <info:fedora/fedora-system:def/model#hasModel> <info:fedora/york:CModel-Thesis>
 FILTER regex (?type, 'aster')
  }
 }
